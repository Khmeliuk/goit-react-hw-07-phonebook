{"version":3,"sources":["components/phonebook/contactList/ContactList.module.css","components/phonebook/filter/Filter.module.css","components/section/Section.js","redux/action.js","redux/operation.js","contacts-selectors.js","components/phonebook/contactList/ContactList.js","components/phonebook/Phonebook.js","components/phonebook/filter/Filter.js","App/App.js","redux/filterReducer.js","redux/itemReducer.js","redux/store.js","index.js","components/phonebook/Phonebook.module.css"],"names":["module","exports","Section","title","children","filter","createAction","addContactSuccess","addContactRequest","addContactError","deleteContactSuccess","deleteContactRequest","deleteContactError","fetchContactRequest","fetchContactSuccess","fetchContactError","axios","defaults","baseURL","getFilter","state","contacts","getFilterContact","createSelector","items","contact","filterNormalized","toLowerCase","name","includes","ContactList","filterContacts","useSelector","dispatch","useDispatch","className","s","map","listItem","number","buttom","type","onClick","id","delete","then","catch","error","Phonebook","useState","setName","setNumber","setId","HandleInputChange","e","currentTarget","value","uuidv4","phonebook","form","onSubmit","data","preventDefault","post","label","htmlFor","labelName","input","onChange","pattern","required","button","Filter","action","App","isLoading","loading","useEffect","get","color","height","width","filterReducer","createReducer","payload","itemReducer","find","alert","contactsReducer","combineReducers","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eee10e96.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ContactList_listItem__1Cfmh\",\"buttom\":\"ContactList_buttom__VzWfU\",\"contacts\":\"ContactList_contacts__4FX7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Filter_title__1ZoX1\",\"input\":\"Filter_input__2dawl\"};","export default function Section({ title, children }) {\r\n  return (\r\n    <div>\r\n      <h2>{title}</h2>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// export const deleteContact = createAction(\"delete\");\r\n\r\nexport const filter = createAction(\"filter\");\r\n\r\n// export const addContact = createAction(\"AddContact\");\r\n\r\nexport const addContactSuccess = createAction(\"addContactSuccess\");\r\nexport const addContactRequest = createAction(\"addContactRequest\");\r\nexport const addContactError = createAction(\"addContactError\");\r\n\r\nexport const deleteContactSuccess = createAction(\"deleteContactSuccess\");\r\nexport const deleteContactRequest = createAction(\"deleteContactRequest\");\r\nexport const deleteContactError = createAction(\"deleteContactError\");\r\n\r\nexport const fetchContactRequest = createAction(\"fetchContactRequest\");\r\nexport const fetchContactSuccess = createAction(\"fetchContactSuccess\");\r\nexport const fetchContactError = createAction(\"fetchContactError\");\r\n","import axios from \"axios\";\r\nimport {\r\n  addContactError,\r\n  addContactSuccess,\r\n  addContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactRequest,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from \"./action\";\r\n\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\n\r\nexport const fetchItems = () => (dispatch) => {\r\n  dispatch(fetchContactRequest);\r\n\r\n  axios\r\n    .get(\"/contacts\")\r\n    .then(({ data }) => dispatch(fetchContactSuccess(data)))\r\n    .catch((error) => dispatch(fetchContactError(error)));\r\n};\r\n\r\nexport const addContact = (data) => (dispatch) => {\r\n  dispatch(addContactRequest());\r\n\r\n  axios\r\n    .post(\"contacts\", data)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch((error) => dispatch(addContactError(error)));\r\n};\r\n\r\nexport const deleteContact = (id) => (dispatch) => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`contacts/${id}`, id)\r\n    .then(() => dispatch(deleteContactSuccess({ id })))\r\n    .catch((error) => dispatch(deleteContactError(error)));\r\n};\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getFilter = (state) => state.contacts.filter;\r\nexport const getContacts = (state) => state.contacts.items;\r\n\r\nexport const getFilterContact = createSelector(\r\n  [getFilter, getContacts],\r\n  (filter, contact) => {\r\n    const filterNormalized = filter.toLowerCase();\r\n    return contact.filter(({ name }) =>\r\n      name.toLowerCase().includes(filterNormalized)\r\n    );\r\n  }\r\n);\r\n","import s from \"./ContactList.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteContact } from \"../../../redux/operation\";\r\nimport { getFilterContact } from \"../../../contacts-selectors\";\r\n\r\nexport default function ContactList() {\r\n  const filterContacts = useSelector(getFilterContact);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ul className={s.contacts}>\r\n      {filterContacts.map((contact) => {\r\n        return (\r\n          <li className={s.listItem} key={contact.id}>\r\n            {contact.name}: {contact.number}\r\n            <button\r\n              className={s.buttom}\r\n              type=\"button\"\r\n              onClick={() => dispatch(deleteContact(contact.id))}\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport Section from \"../section/Section\";\r\nimport s from \"./Phonebook.module.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addContact } from \"../../redux/operation\";\r\n\r\nexport default function Phonebook() {\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [id, setId] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function HandleInputChange(e) {\r\n    switch (e.currentTarget.name) {\r\n      case \"name\":\r\n        setName(e.currentTarget.value);\r\n        setId(uuidv4());\r\n        break;\r\n      case \"number\":\r\n        setNumber(e.currentTarget.value);\r\n        setId(uuidv4());\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  function HandleSubmitButton(e) {\r\n    e.preventDefault();\r\n    dispatch(addContact({ name, number, id }));\r\n    reset();\r\n  }\r\n\r\n  function reset() {\r\n    setName(\"\");\r\n    setNumber(\"\");\r\n    setId(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className={s.phonebook}>\r\n      <Section title=\"Phonebook\" />\r\n      <form className={s.form} onSubmit={HandleSubmitButton}>\r\n        <label className={s.label} htmlFor=\"name\">\r\n          <p className={s.labelName}>Name</p>\r\n          <input\r\n            className={s.input}\r\n            onChange={HandleInputChange}\r\n            value={name}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            required\r\n          />\r\n          <p className={s.labelName}>Number</p>\r\n          <input\r\n            className={s.input}\r\n            value={number}\r\n            onChange={HandleInputChange}\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            required\r\n          />\r\n          <button className={s.button} type=\"submit\">\r\n            Add contact\r\n          </button>\r\n        </label>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import s from \"./Filter.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as action from \"../../../redux/action\";\r\nimport { getFilter } from \"../../../contacts-selectors\";\r\n\r\nconst Filter = () => {\r\n  const value = useSelector((state) => getFilter(state));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const input = (e) => {\r\n    const value = e.currentTarget.value;\r\n    dispatch(action.filter(value));\r\n  };\r\n\r\n  return (\r\n    <label htmlFor=\"filter\">\r\n      <h3 className={s.title}>Find contact by name</h3>\r\n      <input\r\n        name=\"filter\"\r\n        className={s.input}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={input}\r\n      />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import Section from \"../components/section/Section\";\nimport ContactList from \"../components/phonebook/contactList/ContactList\";\nimport Phonebook from \"../components/phonebook/Phonebook\";\nimport Filter from \"../components/phonebook/filter/Filter\";\nimport ReactLoading from \"react-loading\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { fetchItems } from \"../redux/operation\";\n\nexport default function App() {\n  const isLoading = useSelector((state) => state.contacts.loading);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!isLoading) dispatch(fetchItems());\n  }, [dispatch, isLoading]);\n\n  const buble = {\n    prop: \"spinningBubbles\",\n    name: \"SpinningBubbles\",\n  };\n\n  return (\n    <div>\n      <Phonebook />\n\n      <Section title=\"Contacts\">\n        <Filter />\n        <ContactList />\n        {isLoading && (\n          <ReactLoading\n            type={buble.prop}\n            color={\"#2b2c6d\"}\n            height={100}\n            width={100}\n          />\n        )}\n      </Section>\n    </div>\n  );\n}\n","import { filter } from \"./action\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nexport const filterReducer = createReducer(\"\", {\r\n  [filter]: (state, { payload }) => {\r\n    return (state = payload);\r\n  },\r\n});\r\n","import {\r\n  addContactError,\r\n  addContactSuccess,\r\n  addContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactRequest,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from \"./action\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nexport const itemReducer = createReducer([], {\r\n  [fetchContactSuccess]: (state, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    if (state.find((contact) => contact.name === payload.name)) {\r\n      alert(`${payload.name} is already in contact`);\r\n    } else return [...state, payload];\r\n  },\r\n  [deleteContactSuccess]: (state, { payload }) => {\r\n    const arr = state.filter(({ id }) => payload !== id);\r\n    return arr;\r\n  },\r\n});\r\n\r\nexport const loading = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactError]: () => false,\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n});\r\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport { filterReducer } from \"./filterReducer\";\r\nimport { itemReducer, loading } from \"./itemReducer\";\r\n\r\nconst contactsReducer = combineReducers({\r\n  items: itemReducer,\r\n  filter: filterReducer,\r\n  loading: loading,\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App/App\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phonebook\":\"Phonebook_phonebook__2v8Jk\",\"form\":\"Phonebook_form__u5lva\",\"label\":\"Phonebook_label__3KG2Y\",\"input\":\"Phonebook_input__5K84G\",\"button\":\"Phonebook_button__JJydd\",\"labelName\":\"Phonebook_labelName__2Ab37\"};"],"sourceRoot":""}